import numpy as np

from pycdt.build import triangulate, remove_holes


if __name__ == "__main__":
    arr = np.array(
        [
            [-15.5, -130.0],
            [-15.568, -129.219],
            [-15.771, -128.461],
            [-16.103, -127.75],
            [-16.553, -127.107],
            [-17.107, -126.553],
            [-17.75, -126.103],
            [-18.461, -125.771],
            [-19.219, -125.568],
            [-20.0, -125.5],
            [-20.781, -125.568],
            [-21.539, -125.771],
            [-22.25, -126.103],
            [-22.893, -126.553],
            [-23.447, -127.107],
            [-23.897, -127.75],
            [-24.229, -128.461],
            [-24.432, -129.219],
            [-24.5, -130.0],
            [-22.0, -150.0],
            [-25.126, -149.727],
            [-28.156, -148.914],
            [-31.0, -147.588],
            [-33.57, -145.789],
            [-35.789, -143.57],
            [-37.588, -141.0],
            [-38.914, -138.156],
            [-39.727, -135.126],
            [-40.0, -132.0],
            [-70.0, -100.0],
            [-66.667, -100.0],
            [-63.333, -100.0],
            [-60.0, -100.0],
            [-56.667, -100.0],
            [-53.333, -100.0],
            [-50.0, -100.0],
            [-46.667, -100.0],
            [-43.333, -100.0],
            [-40.0, -100.0],
            [-18.0, -150.0],
            [-22.0, -150.0],
            [0.0, 0.0],
            [-3.043, 0.0],
            [-6.087, 0.0],
            [-9.13, 0.0],
            [-12.174, 0.0],
            [-15.217, 0.0],
            [-18.261, 0.0],
            [-21.304, 0.0],
            [-24.348, 0.0],
            [-27.391, 0.0],
            [-30.435, 0.0],
            [-33.478, 0.0],
            [-36.522, 0.0],
            [-39.565, 0.0],
            [-42.609, 0.0],
            [-45.652, 0.0],
            [-48.696, 0.0],
            [-51.739, 0.0],
            [-54.783, 0.0],
            [-57.826, 0.0],
            [-60.87, 0.0],
            [-63.913, 0.0],
            [-66.957, 0.0],
            [-70.0, 0.0],
            [-70.0, 0.0],
            [-70.0, -3.03],
            [-70.0, -6.061],
            [-70.0, -9.091],
            [-70.0, -12.121],
            [-70.0, -15.152],
            [-70.0, -18.182],
            [-70.0, -21.212],
            [-70.0, -24.242],
            [-70.0, -27.273],
            [-70.0, -30.303],
            [-70.0, -33.333],
            [-70.0, -36.364],
            [-70.0, -39.394],
            [-70.0, -42.424],
            [-70.0, -45.455],
            [-70.0, -48.485],
            [-70.0, -51.515],
            [-70.0, -54.545],
            [-70.0, -57.576],
            [-70.0, -60.606],
            [-70.0, -63.636],
            [-70.0, -66.667],
            [-70.0, -69.697],
            [-70.0, -72.727],
            [-70.0, -75.758],
            [-70.0, -78.788],
            [-70.0, -81.818],
            [-70.0, -84.848],
            [-70.0, -87.879],
            [-70.0, -90.909],
            [-70.0, -93.939],
            [-70.0, -96.97],
            [-70.0, -100.0],
            [-40.0, -100.0],
            [-40.0, -103.2],
            [-40.0, -106.4],
            [-40.0, -109.6],
            [-40.0, -112.8],
            [-40.0, -116.0],
            [-40.0, -119.2],
            [-40.0, -122.4],
            [-40.0, -125.6],
            [-40.0, -128.8],
            [-40.0, -132.0],
            [-24.5, -130.0],
            [-24.432, -130.781],
            [-24.229, -131.539],
            [-23.897, -132.25],
            [-23.447, -132.893],
            [-22.893, -133.447],
            [-22.25, -133.897],
            [-21.539, -134.229],
            [-20.781, -134.432],
            [-20.0, -134.5],
            [-19.219, -134.432],
            [-18.461, -134.229],
            [-17.75, -133.897],
            [-17.107, -133.447],
            [-16.553, -132.893],
            [-16.103, -132.25],
            [-15.771, -131.539],
            [-15.568, -130.781],
            [-15.5, -130.0],
            [-18.0, -150.0],
            [-14.488, -149.654],
            [-11.112, -148.63],
            [-8.0, -146.966],
            [-5.272, -144.728],
            [-3.034, -142.0],
            [-1.37, -138.888],
            [-0.346, -135.512],
            [0.0, -132.0],
            [0.0, 0.0],
            [0.0, -3.0],
            [0.0, -6.0],
            [0.0, -9.0],
            [0.0, -12.0],
            [0.0, -15.0],
            [0.0, -18.0],
            [0.0, -21.0],
            [0.0, -24.0],
            [0.0, -27.0],
            [0.0, -30.0],
            [0.0, -33.0],
            [0.0, -36.0],
            [0.0, -39.0],
            [0.0, -42.0],
            [0.0, -45.0],
            [0.0, -48.0],
            [0.0, -51.0],
            [0.0, -54.0],
            [0.0, -57.0],
            [0.0, -60.0],
            [0.0, -63.0],
            [0.0, -66.0],
            [0.0, -69.0],
            [0.0, -72.0],
            [0.0, -75.0],
            [0.0, -78.0],
            [0.0, -81.0],
            [0.0, -84.0],
            [0.0, -87.0],
            [0.0, -90.0],
            [0.0, -93.0],
            [0.0, -96.0],
            [0.0, -99.0],
            [0.0, -102.0],
            [0.0, -105.0],
            [0.0, -108.0],
            [0.0, -111.0],
            [0.0, -114.0],
            [0.0, -117.0],
            [0.0, -120.0],
            [0.0, -123.0],
            [0.0, -126.0],
            [0.0, -129.0],
            [0.0, -132.0],
        ]
    )
    yy = triangulate(arr, margin=2.0, debug=True)
    yy.plot(show=True)
    constrained_edges = np.array(
        [
            [0, 1],
            [1, 2],
            [2, 3],
            [3, 4],
            [4, 5],
            [5, 6],
            [6, 7],
            [7, 8],
            [8, 9],
            [9, 10],
            [10, 11],
            [11, 12],
            [12, 13],
            [13, 14],
            [14, 15],
            [15, 16],
            [16, 17],
            [17, 18],
            [19, 20],
            [20, 21],
            [21, 22],
            [22, 23],
            [23, 24],
            [24, 25],
            [25, 26],
            [26, 27],
            [27, 28],
            [29, 30],
            [30, 31],
            [31, 32],
            [32, 33],
            [33, 34],
            [34, 35],
            [35, 36],
            [36, 37],
            [37, 38],
            [39, 19],
            [40, 41],
            [41, 42],
            [42, 43],
            [43, 44],
            [44, 45],
            [45, 46],
            [46, 47],
            [47, 48],
            [48, 49],
            [49, 50],
            [50, 51],
            [51, 52],
            [52, 53],
            [53, 54],
            [54, 55],
            [55, 56],
            [56, 57],
            [57, 58],
            [58, 59],
            [59, 60],
            [60, 61],
            [61, 62],
            [62, 63],
            [63, 64],
            [64, 65],
            [65, 66],
            [66, 67],
            [67, 68],
            [68, 69],
            [69, 70],
            [70, 71],
            [71, 72],
            [72, 73],
            [73, 74],
            [74, 75],
            [75, 76],
            [76, 77],
            [77, 78],
            [78, 79],
            [79, 80],
            [80, 81],
            [81, 82],
            [82, 83],
            [83, 84],
            [84, 85],
            [85, 86],
            [86, 87],
            [87, 88],
            [88, 89],
            [89, 90],
            [90, 91],
            [91, 92],
            [92, 93],
            [93, 94],
            [94, 95],
            [95, 29],
            [38, 96],
            [96, 97],
            [97, 98],
            [98, 99],
            [99, 100],
            [100, 101],
            [101, 102],
            [102, 103],
            [103, 104],
            [104, 28],
            [18, 105],
            [105, 106],
            [106, 107],
            [107, 108],
            [108, 109],
            [109, 110],
            [110, 111],
            [111, 112],
            [112, 113],
            [113, 114],
            [114, 115],
            [115, 116],
            [116, 117],
            [117, 118],
            [118, 119],
            [119, 120],
            [120, 121],
            [121, 0],
            [39, 122],
            [122, 123],
            [123, 124],
            [124, 125],
            [125, 126],
            [126, 127],
            [127, 128],
            [128, 129],
            [40, 130],
            [130, 131],
            [131, 132],
            [132, 133],
            [133, 134],
            [134, 135],
            [135, 136],
            [136, 137],
            [137, 138],
            [138, 139],
            [139, 140],
            [140, 141],
            [141, 142],
            [142, 143],
            [143, 144],
            [144, 145],
            [145, 146],
            [146, 147],
            [147, 148],
            [148, 149],
            [149, 150],
            [150, 151],
            [151, 152],
            [152, 153],
            [153, 154],
            [154, 155],
            [155, 156],
            [156, 157],
            [157, 158],
            [158, 159],
            [159, 160],
            [160, 161],
            [161, 162],
            [162, 163],
            [163, 164],
            [164, 165],
            [165, 166],
            [166, 167],
            [167, 168],
            [168, 169],
            [169, 170],
            [170, 171],
            [171, 172],
            [172, 129],
        ]
    )
    remove_holes(yy, constrained_edges)  # type: ignore[reportArgumentType]
    yy.plot(show=True)
